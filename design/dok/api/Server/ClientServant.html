<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu May 31 03:29:54 CEST 2001 -->
<TITLE>
Design "Virtuelle Konferenz" SEP 2001, Gruppe WorstCases: Class  ClientServant
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ClientServant.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../Server/ChannelAdministration.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../Server/ClientServantWatchDog.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ClientServant.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
Server</FONT>
<BR>
Class  ClientServant</H2>
<PRE>
java.lang.Object
  |
  +--<B>Server.ClientServant</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../Util/DownlinkOwner.html">DownlinkOwner</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../Server/AdminClientServant.html">AdminClientServant</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>ClientServant</B><DT>extends java.lang.Object<DT>implements <A HREF="../Util/DownlinkOwner.html">DownlinkOwner</A></DL>

<P>
Diese Klasse kümmert sich um die Anfragen, die von einem Client an den Server gestellt werden. Der Server
 erzeugt für jeden Client eine Instanz dieser Klasse, die sich von da an nur
 noch um diesen Client kümmert und seine Anfragen bearbeitet. In dieser Klasse steckt die meiste Funktionalität des Servers.
</P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#aliveStamp">aliveStamp</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gibt den letzten Zeitpunkt an, an dem der ClientServant eine Nachricht von seinem Client empfangen hat.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../Util/Downlink.html">Downlink</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#downlink">downlink</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Der Downlink, über ihn werden Nachrichten empfangen.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../Server/Server.html">Server</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#server">server</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Der Server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.net.Socket</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#socket">socket</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Über diesen Socket kommuniziert der ClientServant mit seinem Client.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../Util/Uplink.html">Uplink</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#uplink">uplink</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Der Uplink, über ihn werden Nachrichten gesendet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../Server/User.html">User</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#user">user</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Der Benutzer der Clientapplikation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../Server/UserAdministration.html">UserAdministration</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#userAdministration">userAdministration</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Die Benutzerverwaltung.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../Server/ClientServant.html#ClientServant()">ClientServant</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Standard-Konstruktor, notwendig, da der AdminClientServant von dieser Klasse erbt. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../Server/ClientServant.html#ClientServant(java.net.Socket, Server.Server, Server.UserAdministration)">ClientServant</A></B>(java.net.Socket&nbsp;paramSocket,
              <A HREF="../Server/Server.html">Server</A>&nbsp;paramServer,
              <A HREF="../Server/UserAdministration.html">UserAdministration</A>&nbsp;paramUserAdministration)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Konstruktor, der die entsprechenden Attribute setzt. </TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#becomeAdminClientServant()">becomeAdminClientServant</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wenn der angemeldete Benutzer Admin-Rechte hat, dann wird aus dem ClientServant automatisch ein AdminClientServant
 mit erweiterter Funktionalität. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#downlinkError()">downlinkError</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wird vom Downlink aufgerufen, falls beim Empfang von Nachrichten ein
 Fehler auftritt, enthält Fehlerbehandlung.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#getAliveStamp()">getAliveStamp</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gibt den aktuellen aliveStamp-Wert zurück.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#joinChannel(java.lang.String)">joinChannel</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lässt den User in den Channel mit dem angegebenen Namen eintreten.
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#leaveChannel()">leaveChannel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lässt den User den Channel verlassen. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#loginAsGuest(java.lang.String)">loginAsGuest</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Meldet einen Gast beim System an. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#loginUser(java.lang.String, java.lang.String)">loginUser</A></B>(java.lang.String&nbsp;name,
          java.lang.String&nbsp;password)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Meldet den Benutzer mit Namen name und mit Passwort password beim System an
 Benutzt userAdministration.loginUser() um das Userobjekt zu holen und setUser() um es zu setzen.
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#processMsg(Util.Commands.Command)">processMsg</A></B>(<A HREF="../Util/Commands/Command.html">Command</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Führt den empfangenen Befehl einfach mittels msg.execute(this) aus. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#sendCommand(Util.Commands.Command)">sendCommand</A></B>(<A HREF="../Util/Commands/Command.html">Command</A>&nbsp;paramCommand)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sendet das angegebene CommandObjekt über den Uplink. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#sendCurrentChannelData()">sendCurrentChannelData</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sendet die Daten des betretenen Channel an den Client. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#sendCurrentUserData()">sendCurrentUserData</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sendet die Daten des Users an den Client. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#sendMsgFromChannel(java.lang.String, java.lang.String)">sendMsgFromChannel</A></B>(java.lang.String&nbsp;fromName,
                   java.lang.String&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sendet eine Nachricht, die in den besuchten Channel gesendet wurde, an den Client (mit einem SendMsgFromChannelCommand).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#sendMsgFromUser(java.lang.String, java.lang.String)">sendMsgFromUser</A></B>(java.lang.String&nbsp;fromName,
                java.lang.String&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sendet eine private Nachricht eines anderen Users an den Client. 
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#sendMsgToChannel(java.lang.String)">sendMsgToChannel</A></B>(java.lang.String&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sendet eine Nachricht des Users an alle anderen User im Channel. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#sendMsgToUser(java.lang.String, java.lang.String)">sendMsgToUser</A></B>(java.lang.String&nbsp;userName,
              java.lang.String&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sendet eine private Nachricht des Users an einen anderen User. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#setAliveStamp()">setAliveStamp</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setzt aliveStamp auf die aktuelle Zeit. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#setDownlink(Util.Downlink)">setDownlink</A></B>(<A HREF="../Util/Downlink.html">Downlink</A>&nbsp;paramDownlink)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setzt downlink, benachrichtigt die betroffenen Downlinkobjekte mittels setDownlinkOwner().</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#setServer(Server.Server)">setServer</A></B>(<A HREF="../Server/Server.html">Server</A>&nbsp;paramServer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setzt server und benachrichtigt das betroffene Serverobjekt mittels removeFromClientServantList() und
 addToClientServantList. setServer(null) bewirkt stopClientServant()</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#setUser(Server.User)">setUser</A></B>(<A HREF="../Server/User.html">User</A>&nbsp;paramUser)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setzt user, benutzt user.setClientServant(). setUser(null) bewirkt ein stopClientServant().</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#startClientServant()">startClientServant</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Startet den ClientServant, danach ist er betriebsbereit und kann die Anfragen seines Clients bearbeiten.
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Server/ClientServant.html#stopClientServant()">stopClientServant</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stoppt den ClientServant. </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><clinit>, clone, equals, finalize, getClass, hashCode, notify, notifyAll, registerNatives, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="uplink"><!-- --></A><H3>
uplink</H3>
<PRE>
protected <A HREF="../Util/Uplink.html">Uplink</A> <B>uplink</B></PRE>
<DL>
<DD>Der Uplink, über ihn werden Nachrichten gesendet.
</P>
</DL>
<HR>

<A NAME="downlink"><!-- --></A><H3>
downlink</H3>
<PRE>
protected <A HREF="../Util/Downlink.html">Downlink</A> <B>downlink</B></PRE>
<DL>
<DD>Der Downlink, über ihn werden Nachrichten empfangen.
</P>
</DL>
<HR>

<A NAME="userAdministration"><!-- --></A><H3>
userAdministration</H3>
<PRE>
protected <A HREF="../Server/UserAdministration.html">UserAdministration</A> <B>userAdministration</B></PRE>
<DL>
<DD>Die Benutzerverwaltung.
</P>
</DL>
<HR>

<A NAME="user"><!-- --></A><H3>
user</H3>
<PRE>
protected <A HREF="../Server/User.html">User</A> <B>user</B></PRE>
<DL>
<DD>Der Benutzer der Clientapplikation.
</P>
</DL>
<HR>

<A NAME="socket"><!-- --></A><H3>
socket</H3>
<PRE>
protected java.net.Socket <B>socket</B></PRE>
<DL>
<DD>Über diesen Socket kommuniziert der ClientServant mit seinem Client.
</P>
</DL>
<HR>

<A NAME="aliveStamp"><!-- --></A><H3>
aliveStamp</H3>
<PRE>
protected long <B>aliveStamp</B></PRE>
<DL>
<DD>Gibt den letzten Zeitpunkt an, an dem der ClientServant eine Nachricht von seinem Client empfangen hat.
</P>
</DL>
<HR>

<A NAME="server"><!-- --></A><H3>
server</H3>
<PRE>
protected <A HREF="../Server/Server.html">Server</A> <B>server</B></PRE>
<DL>
<DD>Der Server.
</P>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="ClientServant()"><!-- --></A><H3>
ClientServant</H3>
<PRE>
public <B>ClientServant</B>()</PRE>
<DL>
<DD>Standard-Konstruktor, notwendig, da der AdminClientServant von dieser Klasse erbt. Wird sonst <em>nicht</em> benutzt.
</P>
</DL>
<HR>

<A NAME="ClientServant(java.net.Socket, Server.Server, Server.UserAdministration)"><!-- --></A><H3>
ClientServant</H3>
<PRE>
public <B>ClientServant</B>(java.net.Socket&nbsp;paramSocket,
                     <A HREF="../Server/Server.html">Server</A>&nbsp;paramServer,
                     <A HREF="../Server/UserAdministration.html">UserAdministration</A>&nbsp;paramUserAdministration)</PRE>
<DL>
<DD>Konstruktor, der die entsprechenden Attribute setzt. Benutzt setServer(paramServer).
</P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getAliveStamp()"><!-- --></A><H3>
getAliveStamp</H3>
<PRE>
public final long <B>getAliveStamp</B>()</PRE>
<DL>
<DD>Gibt den aktuellen aliveStamp-Wert zurück.
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setAliveStamp()"><!-- --></A><H3>
setAliveStamp</H3>
<PRE>
public final void <B>setAliveStamp</B>()</PRE>
<DL>
<DD>Setzt aliveStamp auf die aktuelle Zeit. Benutzt java.lang.System.currentTimeMillis().
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setDownlink(Util.Downlink)"><!-- --></A><H3>
setDownlink</H3>
<PRE>
public final void <B>setDownlink</B>(<A HREF="../Util/Downlink.html">Downlink</A>&nbsp;paramDownlink)</PRE>
<DL>
<DD>Setzt downlink, benachrichtigt die betroffenen Downlinkobjekte mittels setDownlinkOwner().
</P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../Util/DownlinkOwner.html#setDownlink(Util.Downlink)">setDownlink</A></CODE> in interface <CODE><A HREF="../Util/DownlinkOwner.html">DownlinkOwner</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="downlinkError()"><!-- --></A><H3>
downlinkError</H3>
<PRE>
public final void <B>downlinkError</B>()</PRE>
<DL>
<DD>Wird vom Downlink aufgerufen, falls beim Empfang von Nachrichten ein
 Fehler auftritt, enthält Fehlerbehandlung.
</P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../Util/DownlinkOwner.html#downlinkError()">downlinkError</A></CODE> in interface <CODE><A HREF="../Util/DownlinkOwner.html">DownlinkOwner</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../Util/DownlinkOwner.html"><CODE>DownlinkOwner</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setUser(Server.User)"><!-- --></A><H3>
setUser</H3>
<PRE>
public final void <B>setUser</B>(<A HREF="../Server/User.html">User</A>&nbsp;paramUser)</PRE>
<DL>
<DD>Setzt user, benutzt user.setClientServant(). setUser(null) bewirkt ein stopClientServant().
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="startClientServant()"><!-- --></A><H3>
startClientServant</H3>
<PRE>
public final void <B>startClientServant</B>()</PRE>
<DL>
<DD>Startet den ClientServant, danach ist er betriebsbereit und kann die Anfragen seines Clients bearbeiten.
 Erzeugt einen neuen Uplink und Downlink. Benutzt setDownlink(), uplink.startUplink() und downlink.startDownlink().
 Fängt Fehler aus startUplink() und startDownlink() ab.
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="stopClientServant()"><!-- --></A><H3>
stopClientServant</H3>
<PRE>
public final void <B>stopClientServant</B>()</PRE>
<DL>
<DD>Stoppt den ClientServant. Benutzt setDownlink(null) uplink.stopUplink(), setServer(null) und setUser(null).
 Sendet ein stopClientCommand() an den Client.
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="processMsg(Util.Commands.Command)"><!-- --></A><H3>
processMsg</H3>
<PRE>
public final void <B>processMsg</B>(<A HREF="../Util/Commands/Command.html">Command</A>&nbsp;msg)</PRE>
<DL>
<DD>Führt den empfangenen Befehl einfach mittels msg.execute(this) aus. Benutzt setAliveStamp().
</P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../Util/DownlinkOwner.html#processMsg(Util.Commands.Command)">processMsg</A></CODE> in interface <CODE><A HREF="../Util/DownlinkOwner.html">DownlinkOwner</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sendCommand(Util.Commands.Command)"><!-- --></A><H3>
sendCommand</H3>
<PRE>
public final void <B>sendCommand</B>(<A HREF="../Util/Commands/Command.html">Command</A>&nbsp;paramCommand)</PRE>
<DL>
<DD>Sendet das angegebene CommandObjekt über den Uplink. Benutzt uplink.sendMsg()
 Bei einem Fehler: Fehlerbehandlung.
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="loginUser(java.lang.String, java.lang.String)"><!-- --></A><H3>
loginUser</H3>
<PRE>
public final void <B>loginUser</B>(java.lang.String&nbsp;name,
                            java.lang.String&nbsp;password)</PRE>
<DL>
<DD>Meldet den Benutzer mit Namen name und mit Passwort password beim System an
 Benutzt userAdministration.loginUser() um das Userobjekt zu holen und setUser() um es zu setzen.
 Bei einem Loginfehler wird ein LoginErrorCommand gesendet und setUser(null) aufgerufen, anschließend beendet sich clientServant.
 Falls der User Admin-Rechte hat, so wird becomeAdminClient() aufgerufen.
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="loginAsGuest(java.lang.String)"><!-- --></A><H3>
loginAsGuest</H3>
<PRE>
public final void <B>loginAsGuest</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Meldet einen Gast beim System an. Benutzt userAdministration.loginGuest() und setUser()
 Bei einem Loginfehler wird ein LoginErrorCommand gesendet und setUser(null) aufgerufen anschließend beendet sich clientServant.
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="becomeAdminClientServant()"><!-- --></A><H3>
becomeAdminClientServant</H3>
<PRE>
public final void <B>becomeAdminClientServant</B>()</PRE>
<DL>
<DD>Wenn der angemeldete Benutzer Admin-Rechte hat, dann wird aus dem ClientServant automatisch ein AdminClientServant
 mit erweiterter Funktionalität. Benutzt den AdminClientServant-Konstruktor
 Setzt uplink=null und ruft dann this.stopClientServant() auf.
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="joinChannel(java.lang.String)"><!-- --></A><H3>
joinChannel</H3>
<PRE>
public final void <B>joinChannel</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Lässt den User in den Channel mit dem angegebenen Namen eintreten.
 Benutzt user.setCurrentChannel() und user.getFromAllowedChannelByName()
 Falls der gewünschte Channel nicht existiert wird ein JoinChannelErrorCommand gesendet
 Falls der user nicht existiert, wird ein LoginErrorCommand gesendet.
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="leaveChannel()"><!-- --></A><H3>
leaveChannel</H3>
<PRE>
public final void <B>leaveChannel</B>()</PRE>
<DL>
<DD>Lässt den User den Channel verlassen. Benutzt user.setCurrentChannel(null)
 Falls user nicht existent, wird LoginErrorCommand() gesendet.
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="sendMsgToChannel(java.lang.String)"><!-- --></A><H3>
sendMsgToChannel</H3>
<PRE>
public final void <B>sendMsgToChannel</B>(java.lang.String&nbsp;msg)</PRE>
<DL>
<DD>Sendet eine Nachricht des Users an alle anderen User im Channel. Sendet ggf. joinChannelError(),loginErrorCommand()
 Benutzt user.getCurrentChannel() und Channel.getCurrentUserEnum(), getClientServant()
 um bei den verantwortlichen ClientServants ein sendMsgFromChannel() aufzurufen.
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="sendMsgFromChannel(java.lang.String, java.lang.String)"><!-- --></A><H3>
sendMsgFromChannel</H3>
<PRE>
public final void <B>sendMsgFromChannel</B>(java.lang.String&nbsp;fromName,
                                     java.lang.String&nbsp;msg)</PRE>
<DL>
<DD>Sendet eine Nachricht, die in den besuchten Channel gesendet wurde, an den Client (mit einem SendMsgFromChannelCommand).
</P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fromName</CODE> - Name des Absenders<DD><CODE>msg</CODE> - Nachricht</DL>
</DD>
</DL>
<HR>

<A NAME="sendMsgFromUser(java.lang.String, java.lang.String)"><!-- --></A><H3>
sendMsgFromUser</H3>
<PRE>
public final void <B>sendMsgFromUser</B>(java.lang.String&nbsp;fromName,
                                  java.lang.String&nbsp;msg)</PRE>
<DL>
<DD>Sendet eine private Nachricht eines anderen Users an den Client. 
 Sendet ein SendMsgFromUserCommand.
</P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fromName</CODE> - Name des Absenders<DD><CODE>msg</CODE> - Nachricht</DL>
</DD>
</DL>
<HR>

<A NAME="sendMsgToUser(java.lang.String, java.lang.String)"><!-- --></A><H3>
sendMsgToUser</H3>
<PRE>
public final void <B>sendMsgToUser</B>(java.lang.String&nbsp;userName,
                                java.lang.String&nbsp;msg)</PRE>
<DL>
<DD>Sendet eine private Nachricht des Users an einen anderen User. Sendet ggf. joinChannelErrorCommand, loginErrorCommand()
 Benutzt user.getCurrentChannel() und Channel.getCurrentUserEnum(), getClientServant()
 um bei den verantwortlichen ClientServants ein sendMsgFromChannel() aufzurufen.
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="sendCurrentChannelData()"><!-- --></A><H3>
sendCurrentChannelData</H3>
<PRE>
public final void <B>sendCurrentChannelData</B>()</PRE>
<DL>
<DD>Sendet die Daten des betretenen Channel an den Client. Sendet ein SetCurrentChannelDataCommand.
 Benutzt getCurrentChannel().getName() und getCurrentChannel().getCurrentUserNames().
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="sendCurrentUserData()"><!-- --></A><H3>
sendCurrentUserData</H3>
<PRE>
public final void <B>sendCurrentUserData</B>()</PRE>
<DL>
<DD>Sendet die Daten des Users an den Client. Sendet ein SetCurrentUserDataCommand.
 Benutzt user.getName() und user.getAllowedChannelNames().
</P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setServer(Server.Server)"><!-- --></A><H3>
setServer</H3>
<PRE>
public final void <B>setServer</B>(<A HREF="../Server/Server.html">Server</A>&nbsp;paramServer)</PRE>
<DL>
<DD>Setzt server und benachrichtigt das betroffene Serverobjekt mittels removeFromClientServantList() und
 addToClientServantList. setServer(null) bewirkt stopClientServant()
</P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ClientServant.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../Server/ChannelAdministration.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../Server/ClientServantWatchDog.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ClientServant.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
